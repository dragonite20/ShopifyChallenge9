{"ast":null,"code":"import User from \"../../models/User\";\nimport jwt from \"jsonwebtoken\";\nexport default (async (req, res) => {\n  try {\n    const {\n      userId\n    } = jwt.verify(req.headers.authorization, process.env.JWT_SECRET);\n    const users = await User.find({\n      _id: {\n        $ne: userId\n      }\n    }).sort({\n      role: \"asc\"\n    });\n    res.status(200).json(users);\n  } catch (error) {\n    console.error(error);\n    res.status(403).send(\"Please login again\");\n  }\n});","map":{"version":3,"sources":["/mnt/c/Users/mesba/Desktop/MERN_Store/MERN-Store/pages/api/users.js"],"names":["User","jwt","req","res","userId","verify","headers","authorization","process","env","JWT_SECRET","users","find","_id","$ne","sort","role","status","json","error","console","send"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,mBAAjB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAaH,GAAG,CAACI,MAAJ,CACjBH,GAAG,CAACI,OAAJ,CAAYC,aADK,EAEjBC,OAAO,CAACC,GAAR,CAAYC,UAFK,CAAnB;AAIA,UAAMC,KAAK,GAAG,MAAMX,IAAI,CAACY,IAAL,CAAU;AAAEC,MAAAA,GAAG,EAAE;AAAEC,QAAAA,GAAG,EAAEV;AAAP;AAAP,KAAV,EAAoCW,IAApC,CAAyC;AAC3DC,MAAAA,IAAI,EAAE;AADqD,KAAzC,CAApB;AAGAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBP,KAArB;AACD,GATD,CASE,OAAOQ,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAhB,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,oBAArB;AACD;AACF,CAdD","sourcesContent":["import User from \"../../models/User\";\nimport jwt from \"jsonwebtoken\";\n\nexport default async (req, res) => {\n  try {\n    const { userId } = jwt.verify(\n      req.headers.authorization,\n      process.env.JWT_SECRET\n    );\n    const users = await User.find({ _id: { $ne: userId } }).sort({\n      role: \"asc\"\n    });\n    res.status(200).json(users);\n  } catch (error) {\n    console.error(error);\n    res.status(403).send(\"Please login again\");\n  }\n};\n"]},"metadata":{},"sourceType":"module"}